

* Document top-level heading

This is an example of a complex document.  To see the Org syntax, view the [[https://raw.githubusercontent.com/alphapapa/org-make-toc/master/example.org][raw version]] of this file.

** Main ToC 
:PROPERTIES:
:TOC:      :include all :ignore this
:END:
:CONTENTS:
- [[#document-top-level-heading][Document top-level heading]]
  - [[#chapter-1][Chapter 1]]
    - [[#section-1a][Section 1a]]
      - [[#subsection-1a1][Subsection 1a1]]
      - [[#subsection-1b1][Subsection 1b1]]
  - [[#chapter-2][Chapter 2]]
    - [[#section-2a][Section 2a]]
      - [[#subsection-2a1][Subsection 2a1]]
    - [[#section-2b][Section 2b]]
      - [[#subsection-2b1][Subsection 2b1]]
  - [[#chapter-3][Chapter 3]]
    - [[#section-3a][Section 3a]]
      - [[#subsection-3a1][Subsection 3a1]]
    - [[#section-3b][Section 3b]]
      - [[#subsection-3b1][Subsection 3b1]]
  - [[#appendices][Appendices]]
    - [[#appendix-a-comprehensive-toc][Appendix A: Comprehensive TOC]]
    - [[#appendix-b][Appendix B]]
    - [[#appendix-c][Appendix C]]
  - [[#footer][Footer]]
:END:

** Chapter 1
:PROPERTIES:
:TOC:       :include descendants
:END:

This chapter includes its TOC inline.

:CONTENTS:
- [[#section-1a][Section 1a]]
  - [[#subsection-1a1][Subsection 1a1]]
  - [[#subsection-1b1][Subsection 1b1]]
:END:

*** Section 1a

This section is included in the chapter's TOC.

**** Subsection 1a1

*** Section 1b  
:PROPERTIES:
:TOC:      :ignore this
:END:

This section is not, but its subsection is (you probably wouldn't want to do this, but you could).

**** Subsection 1b1

** Chapter 2

This chapter has its TOC as a sibling of its sections.

*** Chapter 2 TOC
:PROPERTIES:
:TOC:    :include siblings :ignore this
:END:
:CONTENTS:
- [[#section-2a][Section 2a]]
  - [[#subsection-2a1][Subsection 2a1]]
- [[#section-2b][Section 2b]]
  - [[#subsection-2b1][Subsection 2b1]]
:END:

*** Section 2a

**** Subsection 2a1

*** Section 2b
:PROPERTIES:
:TOC:      :depth 2
:END:

This section is included in the TOC.

**** Subsection 2b1

But its subsection is not.

** Chapter 3
:PROPERTIES:
:TOC:      :include descendants
:END:

:CONTENTS:
- [[#section-3a][Section 3a]]
  - [[#subsection-3a1][Subsection 3a1]]
- [[#section-3b][Section 3b]]
  - [[#subsection-3b1][Subsection 3b1]]
:END:

This chapter has a TOC in a drawer that co-exists with this paragraph.

*** Section 3a

**** Subsection 3a1

*** Section 3b

**** Subsection 3b1


** Appendices

The appendices have a local TOC, and one of them is a comprehensive TOC of the entire document (unlike the main TOC at the top of the document, which is abridged).

*** Appendices TOC
:PROPERTIES:
:TOC:      :include siblings :depth 0 :ignore this
:END:
:CONTENTS:
- [[#appendix-a-comprehensive-toc][Appendix A: Comprehensive TOC]]
- [[#appendix-b][Appendix B]]
- [[#appendix-c][Appendix C]]
:END:

*** Appendix A: Comprehensive TOC
:PROPERTIES:
:TOC:      :include all :force t
:END:
:CONTENTS:
- [[#document-top-level-heading][Document top-level heading]]
  - [[#main-toc][Main ToC]]
  - [[#chapter-1][Chapter 1]]
    - [[#section-1a][Section 1a]]
      - [[#subsection-1a1][Subsection 1a1]]
    - [[#section-1b][Section 1b]]
      - [[#subsection-1b1][Subsection 1b1]]
  - [[#chapter-2][Chapter 2]]
    - [[#chapter-2-toc][Chapter 2 TOC]]
    - [[#section-2a][Section 2a]]
      - [[#subsection-2a1][Subsection 2a1]]
    - [[#section-2b][Section 2b]]
      - [[#subsection-2b1][Subsection 2b1]]
  - [[#chapter-3][Chapter 3]]
    - [[#section-3a][Section 3a]]
      - [[#subsection-3a1][Subsection 3a1]]
    - [[#section-3b][Section 3b]]
      - [[#subsection-3b1][Subsection 3b1]]
  - [[#appendices][Appendices]]
    - [[#appendices-toc][Appendices TOC]]
    - [[#appendix-a-comprehensive-toc][Appendix A: Comprehensive TOC]]
    - [[#appendix-b][Appendix B]]
    - [[#appendix-c][Appendix C]]
  - [[#footer][Footer]]
:END:
*** Appendix B

Possibly vestigial.

*** Appendix C

Definitely vestigial.

** Footer

# Local Variables:
# before-save-hook: org-make-toc
# End: 
